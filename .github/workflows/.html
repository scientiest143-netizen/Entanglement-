<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Advanced IBM Quantum Lab</title>
    <style>
        :root {
            --ibm-blue: #0f62fe;
            --quantum-cyan: #64ffda;
            --bg-dark: #0a192f;
            --panel-bg: #112240;
            --text-secondary: #8892b0;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, sans-serif; 
            background-color: var(--bg-dark); 
            color: var(--quantum-cyan); 
            margin: 0; padding: 20px;
            display: flex; flex-direction: column; align-items: center;
        }

        .lab-container { 
            width: 100%; max-width: 950px; 
            background: var(--panel-bg); 
            padding: 25px; border-radius: 12px; 
            border: 1px solid #233554; 
            box-shadow: 0 20px 50px rgba(0,0,0,0.6);
        }

        /* 3D Qubit Sphere */
        .stage { display: flex; justify-content: space-around; padding: 30px 0; }
        .qubit-wrapper { text-align: center; perspective: 1000px; }
        
        .qubit-sphere {
            width: 100px; height: 100px;
            border-radius: 50%;
            background: radial-gradient(circle at 30% 30%, #1e3a8a, #000);
            border: 1px solid rgba(100, 255, 218, 0.4);
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; font-size: 1.4rem;
            position: relative; transform-style: preserve-3d;
            box-shadow: 0 0 15px rgba(10, 25, 47, 0.8);
            transition: 0.5s;
        }

        .spinning { animation: rotate3D 0.8s linear infinite; box-shadow: 0 0 40px var(--quantum-cyan) !important; }
        @keyframes rotate3D {
            0% { transform: rotateY(0deg) rotateX(15deg); }
            100% { transform: rotateY(360deg) rotateX(15deg); }
        }

        /* The Visual Histogram Graph */
        .chart-container { margin-top: 20px; padding: 15px; background: #001229; border-radius: 8px; }
        .bar-row { display: flex; align-items: center; margin: 10px 0; height: 30px; }
        .bar-label { width: 60px; font-family: monospace; font-size: 0.9rem; }
        .bar-track { flex-grow: 1; background: #112240; height: 100%; border-radius: 4px; overflow: hidden; }
        .bar-fill { height: 100%; background: var(--ibm-blue); width: 0%; transition: width 0.5s ease-out; }
        .bar-percent { width: 50px; text-align: right; margin-left: 10px; font-size: 0.8rem; }

        /* Circuit & Log */
        .circuit { font-family: monospace; background: #000b1a; padding: 12px; border-radius: 4px; text-align: left; font-size: 0.9rem; margin-bottom: 20px; }
        .gate { background: var(--ibm-blue); color: white; padding: 2px 6px; border-radius: 2px; font-weight: bold; }
        #log { height: 90px; overflow-y: auto; background: #000; color: #00ff00; padding: 10px; font-family: monospace; font-size: 11px; text-align: left; border-radius: 4px; }

        button { 
            background: var(--ibm-blue); color: white; border: none; padding: 12px 24px; 
            font-size: 13px; font-weight: bold; border-radius: 4px; cursor: pointer; transition: 0.3s;
        }
        button:hover:not(:disabled) { filter: brightness(1.3); }
        button:disabled { background: #233554; color: var(--text-secondary); }
    </style>
</head>
<body>

<div class="lab-container">
    <div style="text-align: left; margin-bottom: 15px;">
        <span style="color: white; font-weight: bold;">IBM Quantum</span> | Entanglement Analytics Simulator
    </div>

    <div class="circuit">
        q0: ───<span class="gate">H</span>───●─── [M] ──<br>
        q1: ─────────⊕─── [M] ──
    </div>

    <div class="stage">
        <div class="qubit-wrapper">
            <div id="q0" class="qubit-sphere">|0&gt;</div>
            <p style="font-size: 0.8rem; color: var(--text-secondary);">Qubit A</p>
        </div>
        <div class="qubit-wrapper">
            <div id="q1" class="qubit-sphere">|0&gt;</div>
            <p style="font-size: 0.8rem; color: var(--text-secondary);">Qubit B</p>
        </div>
    </div>

    <div style="margin-bottom: 20px;">
        <button id="runBtn" onclick="runExperiment()">Entangle Qubits</button>
        <button id="measureBtn" onclick="measure()" disabled>Collapse Wavefunction</button>
    </div>

    <div class="chart-container">
        <div style="font-size: 0.8rem; margin-bottom: 10px; color: white;">Measurement Statistics (Histogram)</div>
        <div class="bar-row">
            <div class="bar-label">|00></div>
            <div class="bar-track"><div id="bar00" class="bar-fill"></div></div>
            <div id="val00" class="bar-percent">0%</div>
        </div>
        <div class="bar-row">
            <div class="bar-label">|11></div>
            <div class="bar-track"><div id="bar11" class="bar-fill"></div></div>
            <div id="val11" class="bar-percent">0%</div>
        </div>
        <div class="bar-row" style="opacity: 0.4;">
            <div class="bar-label">|01></div>
            <div class="bar-track"><div id="bar01" class="bar-fill" style="background: #f43f5e;"></div></div>
            <div id="val01" class="bar-percent">0%</div>
        </div>
    </div>

    <div id="log">Awaiting quantum gate application...</div>
</div>



<script>
    let stats = { "00": 0, "11": 0, "total": 0 };
    const log = document.getElementById('log');

    function updateLog(msg) {
        log.innerHTML += `<br>> ${msg}`;
        log.scrollTop = log.scrollHeight;
    }

    function runExperiment() {
        updateLog("H-Gate applied to q[0]... CNOT link established.");
        document.getElementById('q0').classList.add('spinning');
        document.getElementById('q1').classList.add('spinning');
        document.getElementById('q0').innerHTML = "&psi;";
        document.getElementById('q1').innerHTML = "&psi;";
        
        document.getElementById('runBtn').disabled = true;
        document.getElementById('measureBtn').disabled = false;
        updateLog("State: Superposition reached. Entanglement active.");
    }

    function measure() {
        // Quantum Logic
        const outcome = Math.random() > 0.5 ? "00" : "11";
        stats[outcome]++;
        stats.total++;

        const label = outcome === "00" ? "0" : "1";
        
        document.getElementById('q0').classList.remove('spinning');
        document.getElementById('q1').classList.remove('spinning');
        document.getElementById('q0').innerHTML = label;
        document.getElementById('q1').innerHTML = label;

        updateLog(`Measurement: Found state |${outcome}>`);
        updateGraphs();

        document.getElementById('measureBtn').disabled = true;
        document.getElementById('runBtn').disabled = false;
        document.getElementById('runBtn').innerText = "Repeat Experiment";
    }

    function updateGraphs() {
        const p00 = ((stats["00"] / stats.total) * 100).toFixed(1);
        const p11 = ((stats["11"] / stats.total) * 100).toFixed(1);

        document.getElementById('bar00').style.width = p00 + "%";
        document.getElementById('val00').innerText = p00 + "%";
        
        document.getElementById('bar11').style.width = p11 + "%";
        document.getElementById('val11').innerText = p11 + "%";
    }
</script>

</body>
</html>
